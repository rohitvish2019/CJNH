<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purchase History</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js" integrity="sha512-lOrm9FgT1LKOJRUXF3tp6QaMorJftUjowOWiDcG5GFZ/q7ukof19V0HKx/GWzXCdt9zYju3/KhBNdCLzK8b90Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css" integrity="sha512-0p3K0H3S6Q4bEWZ/WmC94Tgit2ular2/n0ESdfEX8l172YyQj8re1Wu9s/HT9T/T2osUw5Gx/6pAZNk3UKbESw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<link rel="stylesheet" href="/css/purchasesHistory.css">
</head>
<body>
    <header id="header">
        <%-include('_header')%>
    </header>
    <div class="main-body">
        <div class="heading">
            <h4>Purchase History</h4>
            
        </div>
        <div id="searchElements" class="searchElements" style="display: flex; justify-content: flex-start;margin-right: 2%;">
            <div style="margin-right: 2%;">
                <select style="margin-top: 4px;" name="" id="searchType" onchange="changeInputs()">
                    <option value="byDate">Exact Date</option>
                    <option value="byDateRange">Date Range</option>
                </select>
            </div>
            <div style="display: none;margin-right: 2%;" id="dateRangeInputs" class=" justify-content-between text-center align-items-center">
                <label for=""><b>Date Range : </b>&nbsp;</label>
                <input style="margin-top: 4px;height: 24px;" type="date" name="" id="startDate">
                <input style="margin-top: 4px;height: 24px;" type="date" name="" id="endDate">
            </div>
            <div style="margin-right: 2%;" id="dateInput" class=" justify-content-between text-center align-items-center">
                <label for=""><b>Date : </b>&nbsp;</label>
                <input style="margin-top: 4px;height: 24px;" type="date" name="" id="selectedDate">
            </div>
            <div id="itemName" style="margin-right: 2%;">
                <select style="margin-top: 4px;"  name="" id="ItemName">
                    <option value="All">All</option>
                    <%for(let i=0;i<inventory.length;i++){%>
                        <option value="<%=inventory[i]%>"><%=inventory[i]%></option>
                    <%}%>
                </select>
                
            </div>
            <div id="sellerNameInput" style="margin-right: 2%;">
                <select style="margin-top: 4px;"  name="" id="sellerName">
                    <option value="All">All</option>
                    <%for(let i=0;i<sellers.length;i++){%>
                        <option value="<%=sellers[i]%>"><%=sellers[i]%></option>
                    <%}%>
                </select>
                <!--
                <input type="text" placeholder="Enter Seller Name" name="" id="" list="sellersList">
                <datalist id="sellersList">
                    
                       
                    
                </datalist>-->
            </div>
            <div style="align-items: left;">
                <button class="btn btn-success" style="margin-bottom: 1%;" onclick="getPurchaseHistory()">Search</button>
            </div>
            <b style="margin-left: 25px;" id="total"></b>
            <div style="align-items: left;">
                <button class="btn btn-primary" style="margin-bottom: 1%;margin-left: 15px;" onclick="printMe()">Print</button>
            </div>
            <div>
                <b id="tvalue"></b>
            </div>
        </div>
        <div class="table-body">
            <table class="table table-striped table-bordered">
                <caption>End of List</caption>
                <thead>
                    <tr class="bg">
                        <th>#</th>
                        <th>Medicine</th>
                        <th>Batch No</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Bought Date</th>
                        <th>Seller Name</th>
                        <th>Category</th>
                        <th>Cancel</th>
                    </tr>
                </thead>
                <%-include('_loader')%>
                <tbody id="medicines">
                    <!-- Table rows will be populated dynamically -->
                    
                </tbody>
            </table>
        </div>
        <div class="pagination-box">
            <ul class="pagination" id="pagination">
                <!-- Pagination buttons will be populated dynamically -->
            </ul>
        </div>
    </div>
    
<script src="/js/purchasesHistory.js"></script>
</body>
</html>
